import{E as w}from"./ExternalInteractorBase-4vlObBgZ.js";import{d as f,o as m}from"./index-CYG0GMNj.js";class v{constructor(){this.factor=3,this.radius=200}load(o){o&&(o.factor!==void 0&&(this.factor=o.factor),o.radius!==void 0&&(this.radius=o.radius))}}const y="slow",h=0;class x extends w{constructor(o){super(o)}clear(o,t,i){o.slow.inRange&&!i||(o.slow.factor=1)}init(){const o=this.container,t=o.actualOptions.interactivity.modes.slow;t&&(o.retina.slowModeRadius=t.radius*o.retina.pixelRatio)}interact(){}isEnabled(o){const t=this.container,i=t.interactivity.mouse,n=((o==null?void 0:o.interactivity)??t.actualOptions.interactivity).events;return n.onHover.enable&&!!i.position&&f(y,n.onHover.mode)}loadModeOptions(o,...t){o.slow||(o.slow=new v);for(const i of t)o.slow.load(i==null?void 0:i.slow)}reset(o){o.slow.inRange=!1;const t=this.container,i=t.actualOptions,n=t.interactivity.mouse.position,s=t.retina.slowModeRadius,r=i.interactivity.modes.slow;if(!r||!s||s<h||!n)return;const l=o.getPosition(),a=m(n,l),u=a/s,d=r.factor,{slow:c}=o;a>s||(c.inRange=!0,c.factor=u/d)}}async function g(e,o=!0){await e.addInteractor("externalSlow",t=>Promise.resolve(new x(t)),o)}export{v as Slow,g as loadExternalSlowInteraction};
