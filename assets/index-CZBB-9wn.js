import{P as p}from"./ParticlesInteractorBase-C0Qqg_4d.js";import{G as x,g}from"./index-BxzMU4UR.js";const d=1e3,P=1;class D extends p{constructor(t){super(t)}clear(){}init(){}interact(t){const a=this.container;t.attractDistance===void 0&&(t.attractDistance=x(t.options.move.attract.distance)*a.retina.pixelRatio);const u=t.attractDistance,i=t.getPosition(),y=a.particles.quadTree.queryCircle(i,u);for(const e of y){if(t===e||!e.options.move.attract.enable||e.destroyed||e.spawning)continue;const v=e.getPosition(),{dx:m,dy:f}=g(i,v),c=t.options.move.attract.rotate,n=m/(c.x*d),s=f/(c.y*d),o=e.size.value/t.size.value,l=P/o;t.velocity.x-=n*o,t.velocity.y-=s*o,e.velocity.x+=n*l,e.velocity.y+=s*l}}isEnabled(t){return t.options.move.attract.enable}reset(){}}async function w(r,t=!0){await r.addInteractor("particlesAttract",a=>Promise.resolve(new D(a)),t)}export{w as loadParticlesAttractInteraction};
